============================= test session starts =============================
platform win32 -- Python 3.13.1, pytest-7.4.0, pluggy-1.6.0 -- C:\Users\astir\Desktop\AI_Company\AI_Investor\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\astir\Desktop\AI_Company\AI_Investor
configfile: pytest.ini
plugins: anyio-4.12.1, asyncio-0.21.1, base-url-2.1.0
asyncio: mode=Mode.AUTO
collecting ... collected 37 items

tests/integration/test_integration_framework.py::test_create_integration PASSED [  2%]
tests/integration/test_integration_framework.py::test_create_integration_unsupported_app PASSED [  5%]
tests/integration/test_integration_framework.py::test_get_supported_apps FAILED [  8%]
tests/integration/test_integration_service.py::test_sync_data PASSED     [ 10%]
tests/integration/test_integration_service.py::test_sync_data_full PASSED [ 13%]
tests/integration/test_integration_service.py::test_get_sync_status FAILED [ 16%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_list_documents PASSED [ 18%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_get_document PASSED [ 21%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_get_nonexistent_document PASSED [ 24%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_accept_documents FAILED [ 27%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_accept_documents_unauthorized FAILED [ 29%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_get_acceptance_status FAILED [ 32%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_get_acceptance_history FAILED [ 35%]
tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_check_document_updates FAILED [ 37%]
tests/integration/test_migration_system.py::TestMigrationManager::test_create_migration FAILED [ 40%]
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations PASSED [ 43%]
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations PASSED [ 45%]
tests/integration/test_migration_system.py::TestMigrationManager::test_validate_migration FAILED [ 48%]
tests/integration/test_migration_system.py::TestMigrationManager::test_get_migration_status PASSED [ 51%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_get_onboarding_status FAILED [ 54%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_get_onboarding_status_unauthorized FAILED [ 56%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_update_onboarding_step FAILED [ 59%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_complete_onboarding FAILED [ 62%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_complete_onboarding_missing_fields FAILED [ 64%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_get_preferences FAILED [ 67%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_update_preferences FAILED [ 70%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_skip_onboarding FAILED [ 72%]
tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_reset_onboarding FAILED [ 75%]
tests/integration/test_secrets_management.py::TestSecretManager::test_get_secret_from_env PASSED [ 78%]
tests/integration/test_secrets_management.py::TestSecretManager::test_get_secret_default PASSED [ 81%]
tests/integration/test_secrets_management.py::TestSecretManager::test_get_masked_secret PASSED [ 83%]
tests/integration/test_secrets_management.py::TestSecretManager::test_get_db_credentials PASSED [ 86%]
tests/integration/test_secrets_management.py::TestSecretManager::test_get_status PASSED [ 89%]
tests/integration/test_secrets_management.py::TestProductionSecretManager::test_fallback_to_env PASSED [ 91%]
tests/integration/test_secrets_management.py::TestProductionSecretManager::test_vault_integration FAILED [ 94%]
tests/integration/test_secrets_management.py::TestAWSSecretsManager::test_aws_secrets_manager_init FAILED [ 97%]
tests/integration/test_secrets_management.py::TestAWSSecretsManager::test_get_secret_from_aws FAILED [100%]

================================== FAILURES ===================================
___________________________ test_get_supported_apps ___________________________
tests\integration\test_integration_framework.py:51: in test_get_supported_apps
    apps = service.get_supported_apps()
E   AttributeError: 'IntegrationFramework' object has no attribute 'get_supported_apps'. Did you mean: 'supported_apps'?
____________________________ test_get_sync_status _____________________________
tests\integration\test_integration_service.py:65: in test_get_sync_status
    result = await service.get_sync_status("sync_123")
E   AttributeError: 'IntegrationService' object has no attribute 'get_sync_status'
_________________ TestLegalDocumentFlow.test_accept_documents _________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'web.api.legal_api' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\web\\api\\legal_api.py'> does not have the attribute 'g'
__________ TestLegalDocumentFlow.test_accept_documents_unauthorized ___________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'web.api.legal_api' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\web\\api\\legal_api.py'> does not have the attribute 'g'
______________ TestLegalDocumentFlow.test_get_acceptance_status _______________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'web.api.legal_api' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\web\\api\\legal_api.py'> does not have the attribute 'g'
______________ TestLegalDocumentFlow.test_get_acceptance_history ______________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'web.api.legal_api' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\web\\api\\legal_api.py'> does not have the attribute 'g'
______________ TestLegalDocumentFlow.test_check_document_updates ______________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'web.api.legal_api' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\web\\api\\legal_api.py'> does not have the attribute 'g'
_________________ TestMigrationManager.test_create_migration __________________
tests\integration\test_migration_system.py:27: in test_create_migration
    assert forward.exists()
E   AttributeError: 'str' object has no attribute 'exists'
________________ TestMigrationManager.test_validate_migration _________________
tests\integration\test_migration_system.py:62: in test_validate_migration
    content = forward.read_text()
E   AttributeError: 'str' object has no attribute 'read_text'
________________ TestOnboardingFlow.test_get_onboarding_status ________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
_________ TestOnboardingFlow.test_get_onboarding_status_unauthorized __________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
_______________ TestOnboardingFlow.test_update_onboarding_step ________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
_________________ TestOnboardingFlow.test_complete_onboarding _________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
_________ TestOnboardingFlow.test_complete_onboarding_missing_fields __________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
___________________ TestOnboardingFlow.test_get_preferences ___________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
_________________ TestOnboardingFlow.test_update_preferences __________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
___________________ TestOnboardingFlow.test_skip_onboarding ___________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
__________________ TestOnboardingFlow.test_reset_onboarding ___________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1522: in __enter__
    elif spec is None and _is_async_obj(original):
C:\Python313\Lib\unittest\mock.py:58: in _is_async_obj
    if hasattr(obj, '__func__'):
venv\Lib\site-packages\werkzeug\local.py:318: in __get__
    obj = instance._get_current_object()
venv\Lib\site-packages\werkzeug\local.py:519: in _get_current_object
    raise RuntimeError(unbound_message) from None
E   RuntimeError: Working outside of application context.
E   
E   This typically means that you attempted to use functionality that needed
E   the current application. To solve this, set up an application context
E   with app.app_context(). See the documentation for more information.
_____________ TestProductionSecretManager.test_vault_integration ______________
C:\Python313\Lib\unittest\mock.py:1889: in _inner
    return f(*args, **kw)
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'services.system.vault_secret_manager' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\services\\system\\vault_secret_manager.py'> does not have the attribute 'hvac'
_____________ TestAWSSecretsManager.test_aws_secrets_manager_init _____________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'services.system.aws_secret_manager' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\services\\system\\aws_secret_manager.py'> does not have the attribute 'boto3'
_______________ TestAWSSecretsManager.test_get_secret_from_aws ________________
C:\Python313\Lib\unittest\mock.py:1421: in patched
    with self.decoration_helper(patched,
C:\Python313\Lib\contextlib.py:141: in __enter__
    return next(self.gen)
C:\Python313\Lib\unittest\mock.py:1403: in decoration_helper
    arg = exit_stack.enter_context(patching)
C:\Python313\Lib\contextlib.py:530: in enter_context
    result = _enter(cm)
C:\Python313\Lib\unittest\mock.py:1495: in __enter__
    original, local = self.get_original()
C:\Python313\Lib\unittest\mock.py:1465: in get_original
    raise AttributeError(
E   AttributeError: <module 'services.system.aws_secret_manager' from 'C:\\Users\\astir\\Desktop\\AI_Company\\AI_Investor\\services\\system\\aws_secret_manager.py'> does not have the attribute 'boto3'
============================== warnings summary ===============================
tests/integration/test_integration_framework.py::test_create_integration
  C:\Users\astir\Desktop\AI_Company\AI_Investor\services\integration\integration_framework.py:68: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    integration_id=f"integration_{user_id}_{app_name}_{datetime.utcnow().timestamp()}",

tests/integration/test_integration_framework.py::test_create_integration
  C:\Users\astir\Desktop\AI_Company\AI_Investor\services\integration\integration_framework.py:73: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    created_date=datetime.utcnow(),

tests/integration/test_integration_framework.py::test_create_integration
  C:\Users\astir\Desktop\AI_Company\AI_Investor\services\integration\integration_framework.py:74: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    updated_date=datetime.utcnow()

tests/integration/test_integration_service.py::test_sync_data
tests/integration/test_integration_service.py::test_sync_data_full
  C:\Users\astir\Desktop\AI_Company\AI_Investor\services\integration\integration_service.py:63: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    sync_job_id=f"sync_{integration_id}_{datetime.utcnow().timestamp()}",

tests/integration/test_integration_service.py::test_sync_data
tests/integration/test_integration_service.py::test_sync_data_full
  C:\Users\astir\Desktop\AI_Company\AI_Investor\services\integration\integration_service.py:67: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    started_date=datetime.utcnow()

tests/integration/test_integration_service.py::test_sync_data
tests/integration/test_integration_service.py::test_sync_data_full
  C:\Users\astir\Desktop\AI_Company\AI_Investor\services\integration\integration_service.py:72: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    job.completed_date = datetime.utcnow()

tests/integration/test_integration_service.py::test_get_sync_status
  C:\Users\astir\Desktop\AI_Company\AI_Investor\tests\integration\test_integration_service.py:60: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    started_date=datetime.utcnow(),

tests/integration/test_integration_service.py::test_get_sync_status
  C:\Users\astir\Desktop\AI_Company\AI_Investor\tests\integration\test_integration_service.py:61: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    completed_date=datetime.utcnow(),

tests/integration/test_migration_system.py::TestMigrationManager::test_create_migration
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_validate_migration
tests/integration/test_migration_system.py::TestMigrationManager::test_get_migration_status
  C:\Users\astir\Desktop\AI_Company\AI_Investor\scripts\database\migration_manager.py:49: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    timestamp = datetime.utcnow().strftime("%Y%m%d_%H%M%S")

tests/integration/test_migration_system.py::TestMigrationManager::test_create_migration
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_validate_migration
tests/integration/test_migration_system.py::TestMigrationManager::test_get_migration_status
  C:\Users\astir\Desktop\AI_Company\AI_Investor\scripts\database\migration_manager.py:58: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    -- Created: {datetime.utcnow().isoformat()}

tests/integration/test_migration_system.py::TestMigrationManager::test_create_migration
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_list_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_get_pending_migrations
tests/integration/test_migration_system.py::TestMigrationManager::test_validate_migration
tests/integration/test_migration_system.py::TestMigrationManager::test_get_migration_status
  C:\Users\astir\Desktop\AI_Company\AI_Investor\scripts\database\migration_manager.py:77: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    -- Created: {datetime.utcnow().isoformat()}

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/integration/test_integration_framework.py::test_get_supported_apps
FAILED tests/integration/test_integration_service.py::test_get_sync_status - ...
FAILED tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_accept_documents
FAILED tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_accept_documents_unauthorized
FAILED tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_get_acceptance_status
FAILED tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_get_acceptance_history
FAILED tests/integration/test_legal_acceptance_flow.py::TestLegalDocumentFlow::test_check_document_updates
FAILED tests/integration/test_migration_system.py::TestMigrationManager::test_create_migration
FAILED tests/integration/test_migration_system.py::TestMigrationManager::test_validate_migration
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_get_onboarding_status
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_get_onboarding_status_unauthorized
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_update_onboarding_step
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_complete_onboarding
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_complete_onboarding_missing_fields
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_get_preferences
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_update_preferences
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_skip_onboarding
FAILED tests/integration/test_onboarding_flow.py::TestOnboardingFlow::test_reset_onboarding
FAILED tests/integration/test_secrets_management.py::TestProductionSecretManager::test_vault_integration
FAILED tests/integration/test_secrets_management.py::TestAWSSecretsManager::test_aws_secrets_manager_init
FAILED tests/integration/test_secrets_management.py::TestAWSSecretsManager::test_get_secret_from_aws
================= 21 failed, 16 passed, 32 warnings in 2.82s ==================
