============================= test session starts =============================
platform win32 -- Python 3.13.1, pytest-7.4.0, pluggy-1.6.0 -- C:\Users\astir\Desktop\AI_Company\AI_Investor\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\astir\Desktop\AI_Company\AI_Investor
plugins: anyio-4.12.1, asyncio-0.21.1
asyncio: mode=Mode.STRICT
collecting ... collected 14 items

tests/analysis/test_attribution_service.py::test_brinson_attribution_returns_components FAILED [  7%]
tests/analysis/test_attribution_service.py::test_active_return_calculation FAILED [ 14%]
tests/analysis/test_attribution_service.py::test_service_initialization PASSED [ 21%]
tests/analysis/test_fixed_income_service.py::test_yield_curve_fetch PASSED [ 28%]
tests/analysis/test_fixed_income_service.py::test_duration_calculation PASSED [ 35%]
tests/analysis/test_fixed_income_service.py::test_rate_shock_impact PASSED [ 42%]
tests/analysis/test_fixed_income_service.py::test_inversion_detection PASSED [ 50%]
tests/analysis/test_scenario_service.py::test_apply_shock PASSED         [ 57%]
tests/analysis/test_scenario_service.py::test_hedge_sufficiency PASSED   [ 64%]
tests/analysis/test_scenario_service.py::test_service_initialization PASSED [ 71%]
tests/analysis/test_homeostasis_service.py::test_calculate_homeostasis PASSED [ 78%]
tests/analysis/test_homeostasis_service.py::test_freedom_progress_percentage PASSED [ 85%]
tests/analysis/test_homeostasis_service.py::test_retirement_probability PASSED [ 92%]
tests/analysis/test_homeostasis_service.py::test_service_initialization PASSED [100%]

================================== FAILURES ===================================
_________________ test_brinson_attribution_returns_components _________________
tests\analysis\test_attribution_service.py:13: in test_brinson_attribution_returns_components
    result = await attribution_service.calculate_attribution("test-portfolio")
E   AttributeError: 'AttributionService' object has no attribute 'calculate_attribution'. Did you mean: 'calculate_brinson_attribution'?
_______________________ test_active_return_calculation ________________________
tests\analysis\test_attribution_service.py:21: in test_active_return_calculation
    result = await attribution_service.calculate_attribution("test-portfolio")
E   AttributeError: 'AttributionService' object has no attribute 'calculate_attribution'. Did you mean: 'calculate_brinson_attribution'?
=========================== short test summary info ===========================
FAILED tests/analysis/test_attribution_service.py::test_brinson_attribution_returns_components
FAILED tests/analysis/test_attribution_service.py::test_active_return_calculation
======================== 2 failed, 12 passed in 16.96s ========================
