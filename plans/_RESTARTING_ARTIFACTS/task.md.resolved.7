# Task: App Hardening Audit & Stabilization (Phases 1-33)

## Current Status: 24 failed, 57 passed, 6 warnings (improved from 37 failed)

- [x] Audit backend services for all 33 phases
- [x] Audit frontend routes for all 33 phases
- [x] Create [Implementation_Analysis_Summary.md](file:///c:/Users/astir/.gemini/antigravity/brain/6569944b-9410-45cd-8ae9-1fae7019f71a/Implementation_Analysis_Summary.md)
- [x] Fix Rebalancing Service test failures
    - [x] Fixed [HarvestCandidate](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/services/tax/harvest_service.py#40-53) instantiation (keyword args)
    - [x] Fixed `IndentationError` in test file
    - [x] Implemented [check_wash_sale_violation](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/services/tax/enhanced_tax_harvesting_service.py#183-191) wrapper
    - [x] Fixed batch trades assertion (4 not 2)
- [x] Replace `utcnow()` with `datetime.now(timezone.utc)` (6 services, 3 test files)
- [x] Implement `TaxPriorityLogic.determine_harvest_priority`
- [x] Fix [test_tax_optimization_service.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/tests/tax/test_tax_optimization_service.py) assertion
- [x] Fix [test_harvest_service.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/tests/tax/test_harvest_service.py) failures (mock targets + `max()` iterator bug)
- [/] Resolve remaining test failures (24 left)
- [ ] Resolve "never awaited" coroutine warnings (6 left)
