# Implementation Plan - Finalize Phases 196-200

The goal is to finalize the "completed" and "in-progress" phases (196-200) by ensuring all backend services are accessible via CLI, all frontend routes are confirmed, and proper runner scripts exist.

## User Review Required

> [!NOTE]
> Several phases (196, 197, 200) were marked as "Completed" in documentation but lacked full CLI registration or integration tests. This plan closes those gaps.

## Proposed Changes

### Phase 196: Rule 144(a) & Promo-Volume Anomaly Detector

#### [MODIFY] [cli_configuration.json](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/config/cli_configuration.json)
- Add `scan-anomalies` command (mapped to `rule144_runner:scan_anomalies`).
- Add `check-bots` command (mapped to `rule144_runner:check_bots`).

#### [MODIFY] [rule144_runner.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/scripts/runners/rule144_runner.py)
- Implement `scan_anomalies` handler (using `AnomalyDetectorService`).
- Implement `check_bots` handler (using `BotMonitorService`).

### Phase 197: Social Class Maintenance (SCM)

#### [MODIFY] [cli_configuration.json](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/config/cli_configuration.json)
- Add `sfc calc-clew` command.
- Add `sfc check-dilution` command.

#### [MODIFY] [sfo_runner.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/scripts/runners/sfo_runner.py)
- Implement `calc_clew` handler (using `ClewIndexService`).
- Implement `check_dilution` handler (using `DilutionTracker`).

### Phase 198: Bear Market Defensive Positioning

#### [NEW] [defense_runner.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/scripts/runners/defense_runner.py)
- Create new runner for defensive strategies.
- Implement `status` (Regime check) and `activate` (Manual override) handlers.

#### [MODIFY] [cli_configuration.json](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/config/cli_configuration.json)
- Register `defense status` and `defense activate` commands.

### Phase 199: Professional Diligence (Stock Picker)

#### [NEW] [research_runner.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/scripts/runners/research_runner.py)
- Create new runner for fundamental research.
- Implement [analyze](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/scripts/runners/sfo_runner.py#47-71) (Full DD) and `calc-dcf` handlers.

#### [MODIFY] [cli_configuration.json](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/config/cli_configuration.json)
- Register `research analyze` and `research calc-dcf`.

### Phase 200: AI Wealth Orchestrator

#### [NEW] [orchestrator_runner.py](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/scripts/runners/orchestrator_runner.py)
- Create new runner for the master orchestrator.
- Implement `status` (System health) and `boot` (Start orchestrator) handlers.

#### [MODIFY] [cli_configuration.json](file:///c:/Users/astir/Desktop/AI_Company/AI_Investor/config/cli_configuration.json)
- Register `orch status` and `orch boot`.

## Verification Plan

### Automated Tests
- Run `python cli.py` to ensure all new commands appear in help.
- Execute one command from each phase to verify runner wiring:
    - `python cli.py rule144 scan-anomalies`
    - `python cli.py sfc calc-clew`
    - `python cli.py defense status`
    - `python cli.py research calc-dcf --ticker AAPL`
    - `python cli.py orch status`

### Manual Verification
- None required beyond CLI output validation.
